!function(){var t=window.location.pathname.replace(/\/$/,"")||"/";if(""===t||"/"===t||"/index.html"===t){var e=document.createElement("canvas");e.style.cssText="position:fixed;inset:0;z-index:99;pointer-events:none;",e.width=window.innerWidth,e.height=window.innerHeight,document.body.appendChild(e);var i=e.getContext("2d");window.addEventListener("resize",function(){e.width=window.innerWidth,e.height=window.innerHeight});var a=["#00bcd4","#e040fb","#4dd0e1","#ce93d8"];function n(){return 60*-Math.log(Math.random()+1e-9)}var h={reset:function(){this.x=Math.random()*e.width,this.y=Math.random()*e.height;var t=Math.random()*Math.PI*2;this.dx=Math.cos(t),this.dy=Math.sin(t),this.mfp=n(),this.traveled=0,this.color=a[Math.floor(Math.random()*a.length)],this.speed=1.2+.8*Math.random(),this.age=0,this.maxAge=500+300*Math.random()},step:function(){if(this.age++,this.age>this.maxAge)this.reset();else{var t=this.age/this.maxAge,a=.35*Math.min(8*t,1,8*(1-t)),h=this.x,o=this.y;if(this.x+=this.dx*this.speed,this.y+=this.dy*this.speed,this.traveled+=this.speed,i.beginPath(),i.moveTo(h,o),i.lineTo(this.x,this.y),i.strokeStyle=this.color,i.lineWidth=1.8,i.globalAlpha=a,i.stroke(),this.traveled>=this.mfp){i.beginPath(),i.arc(this.x,this.y,1.5,0,2*Math.PI),i.fillStyle=this.color,i.globalAlpha=1.5*a,i.fill();var r=Math.random()*Math.PI*2;this.dx=Math.cos(r),this.dy=Math.sin(r),this.mfp=n(),this.traveled=0}(this.x<-100||this.x>e.width+100||this.y<-100||this.y>e.height+100)&&this.reset(),i.globalAlpha=1}}},o=document.createElement("div");o.style.cssText="position:fixed;bottom:1rem;left:1rem;z-index:102;pointer-events:none;font-family:monospace;font-size:0.65rem;opacity:0.35;letter-spacing:0.05em;",o.textContent="Monte Carlo photon random walk",document.body.appendChild(o),h.reset();for(var r=[h],s=1;s<4;s++){var d=Object.assign({},h);d.reset(),d.age=Math.floor(Math.random()*d.maxAge),r.push(d)}function l(){i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0,0,0,0.04)",i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="source-over";for(var t=0;t<r.length;t++)r[t].step();requestAnimationFrame(l)}l()}else{a=["#00bcd4","#e040fb","#00bcd4","#e040fb","#4dd0e1","#ce93d8"];var m=20,x=1.5,y=144,v=.9995,f=[],c=[],p=.72*window.innerWidth,M=.72*window.innerHeight;for(s=0;s<m;s++){var g=document.createElement("div");g.className="pixel-float",g.style.background=a[Math.floor(Math.random()*a.length)],document.body.appendChild(g),c.push(g),f.push({x:p+380*(Math.random()-.5),y:M+380*(Math.random()-.5),vx:0,vy:0,m:.8+.4*Math.random()})}var w=0,u=0,b=0;for(s=0;s<m;s++)w+=f[s].m,u+=f[s].x*f[s].m,b+=f[s].y*f[s].m;u/=w,b/=w;for(s=0;s<m;s++){var A=f[s].x-u,C=f[s].y-b,q=Math.sqrt(A*A+C*C)+1,W=.7*Math.sqrt(x*w/q);f[s].vx=-W*C/q+.25*(Math.random()-.5),f[s].vy=W*A/q+.25*(Math.random()-.5)}function z(){return{x0:.22*window.innerWidth,y0:.22*window.innerHeight,x1:.99*window.innerWidth,y1:.99*window.innerHeight}}var E=z();window.addEventListener("resize",function(){E=z()});var H=80;function P(){for(var t=f.length,e=new Array(t).fill(0),i=new Array(t).fill(0),a=0,n=0,h=0,o=0;o<t;o++)a+=f[o].m,n+=f[o].x*f[o].m,h+=f[o].y*f[o].m;n/=a,h/=a;var r=new Array(t);for(o=0;o<t;o++){var s=f[o].x-n,d=f[o].y-h,l=Math.sqrt(s*s+d*d);r[o]=f[o].m*Math.tanh(l/H)}for(o=0;o<t;o++)for(var m=f[o],p=o+1;p<t;p++){var M=f[p],g=M.x-m.x,w=M.y-m.y,u=g*g+w*w+y,b=1/Math.sqrt(u),A=b*b*b;e[o]+=x*r[p]*A*g,i[o]+=x*r[p]*A*w,e[p]-=x*r[o]*A*g,i[p]-=x*r[o]*A*w}for(o=0;o<t;o++)f[o].vx=(f[o].vx+e[o])*v,f[o].vy=(f[o].vy+i[o])*v,f[o].x+=f[o].vx,f[o].y+=f[o].vy,f[o].x<E.x0?(f[o].x=E.x0,f[o].vx=Math.abs(f[o].vx)):f[o].x>E.x1&&(f[o].x=E.x1,f[o].vx=-Math.abs(f[o].vx)),f[o].y<E.y0?(f[o].y=E.y0,f[o].vy=Math.abs(f[o].vy)):f[o].y>E.y1&&(f[o].y=E.y1,f[o].vy=-Math.abs(f[o].vy)),c[o].style.left=f[o].x-4+"px",c[o].style.top=f[o].y-4+"px";requestAnimationFrame(P)}P()}}();