!function(){var t=window.location.pathname.replace(/\/$/,"")||"/";if(""===t||"/"===t||"/index.html"===t){var e=document.createElement("canvas");e.style.cssText="position:fixed;inset:0;z-index:99;pointer-events:none;",e.width=window.innerWidth,e.height=window.innerHeight,document.body.appendChild(e);var i=e.getContext("2d");window.addEventListener("resize",function(){e.width=window.innerWidth,e.height=window.innerHeight});var a=["#00bcd4","#e040fb","#4dd0e1","#ce93d8"],r=["#0097a7","#7b1fa2","#00838f","#6a1b9a"];function n(){var t="dark"===document.documentElement.getAttribute("data-theme")?a:r;return t[Math.floor(Math.random()*t.length)]}function h(){return 60*-Math.log(Math.random()+1e-9)}var o={reset:function(){this.x=Math.random()*e.width,this.y=Math.random()*e.height;var t=Math.random()*Math.PI*2;this.dx=Math.cos(t),this.dy=Math.sin(t),this.mfp=h(),this.traveled=0,this.color=n(),this.speed=1.2+.8*Math.random(),this.age=0,this.maxAge=500+300*Math.random()},step:function(){if(this.age++,this.age>this.maxAge)this.reset();else{var t=this.age/this.maxAge,a=.35*Math.min(8*t,1,8*(1-t)),r=this.x,n=this.y;if(this.x+=this.dx*this.speed,this.y+=this.dy*this.speed,this.traveled+=this.speed,i.beginPath(),i.moveTo(r,n),i.lineTo(this.x,this.y),i.strokeStyle=this.color,i.lineWidth=1.8,i.globalAlpha=a,i.stroke(),this.traveled>=this.mfp){i.beginPath(),i.arc(this.x,this.y,1.5,0,2*Math.PI),i.fillStyle=this.color,i.globalAlpha=1.5*a,i.fill();var o=Math.random()*Math.PI*2;this.dx=Math.cos(o),this.dy=Math.sin(o),this.mfp=h(),this.traveled=0}(this.x<-100||this.x>e.width+100||this.y<-100||this.y>e.height+100)&&this.reset(),i.globalAlpha=1}}};o.reset();for(var s=[o],d=1;d<4;d++){var l=Object.assign({},o);l.reset(),l.age=Math.floor(Math.random()*l.maxAge),s.push(l)}function x(){i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0,0,0,0.04)",i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="source-over";for(var t=0;t<s.length;t++)s[t].step();requestAnimationFrame(x)}x()}else{var y=["#00bcd4","#e040fb","#00bcd4","#e040fb","#4dd0e1","#ce93d8"],v=50,m=1.5,f=144,c=.9995,g=[],p=[],u={"/publications/":{x0:.62,y0:.5,x1:.99,y1:.99},"/projects/":{x0:.55,y0:.52,x1:.99,y1:.99},"/cv/":{x0:.68,y0:.1,x1:.99,y1:.9}}[t]||{x0:.22,y0:.22,x1:.99,y1:.99};function M(){return{x0:window.innerWidth*u.x0,y0:window.innerHeight*u.y0,x1:window.innerWidth*u.x1,y1:window.innerHeight*u.y1}}var w=M();window.addEventListener("resize",function(){w=M()});var b=M(),A=(b.x0+b.x1)/2,q=(b.y0+b.y1)/2,C=.45*(b.x1-b.x0),E=.45*(b.y1-b.y0);for(d=0;d<v;d++){var P=document.createElement("div");P.className="pixel-float",P.style.background=y[Math.floor(Math.random()*y.length)],document.body.appendChild(P),p.push(P),g.push({x:A+2*(Math.random()-.5)*C,y:q+2*(Math.random()-.5)*E,vx:0,vy:0,m:.8+.4*Math.random()})}var W=0,k=0,F=0;for(d=0;d<v;d++)W+=g[d].m,k+=g[d].x*g[d].m,F+=g[d].y*g[d].m;k/=W,F/=W;for(d=0;d<v;d++){var H=g[d].x-k,z=g[d].y-F,I=Math.sqrt(H*H+z*z)+1,O=.7*Math.sqrt(m*W/I);g[d].vx=-O*z/I+.25*(Math.random()-.5),g[d].vy=O*H/I+.25*(Math.random()-.5)}var S=new Float64Array(v),T=new Float64Array(v),j=0,L=420,N=30,R=0,$=.28*Math.min(C,E),B=1.4,D=.35,G=3.5,J=[],K=0,Q=0,U=0,V=1;function X(){var t=g.length;S.fill(0),T.fill(0);for(var e=w.x1-w.x0,i=w.y1-w.y0,a=e/2,r=i/2,n=0,h=0,o=0,s=0;s<t;s++)n+=g[s].m,h+=g[s].x*g[s].m,o+=g[s].y*g[s].m;if(h/=n,o/=n,R++,j>0&&j--,R%N===0&&0===j){var d=[];for(s=0;s<t;s++){var l=g[s].x-h,x=g[s].y-o;d.push({idx:s,r:Math.sqrt(l*l+x*x)})}if(d.sort(function(t,e){return t.r-e.r}),d[Math.floor(.9*t)].r<$){var y=0;for(s=0;s<t;s++){l=g[s].x-h,x=g[s].y-o;y+=g[s].m*(l*g[s].vy-x*g[s].vx)}V=y>=0?1:-1,Q=h,U=o,J=d.map(function(t,e){return{idx:t.idx,delay:e}}),K=0,j=L}}if(J.length>0){for(var v=[],u=0;u<J.length;u++){var M=J[u];if(K>=M.delay){s=M.idx,l=g[s].x-Q,x=g[s].y-U;var b=Math.sqrt(l*l+x*x)+1,A=l/b,q=x/b,C=-V*q,E=V*A;g[s].vx+=B*((1-D)*A+D*C),g[s].vy+=B*((1-D)*q+D*E);var P=Math.sqrt(g[s].vx*g[s].vx+g[s].vy*g[s].vy);P>G&&(g[s].vx=g[s].vx/P*G,g[s].vy=g[s].vy/P*G)}else v.push(M)}J=v,K++}for(s=0;s<t;s++)for(var W=g[s],k=s+1;k<t;k++){var F=g[k],H=F.x-W.x,z=F.y-W.y;H>a?H-=e:H<-a&&(H+=e),z>r?z-=i:z<-r&&(z+=i);var I=H*H+z*z+f,O=1/Math.sqrt(I),Y=O*O*O;S[s]+=m*F.m*Y*H,T[s]+=m*F.m*Y*z,S[k]-=m*W.m*Y*H,T[k]-=m*W.m*Y*z}for(s=0;s<t;s++)g[s].vx=(g[s].vx+S[s])*c,g[s].vy=(g[s].vy+T[s])*c,g[s].x+=g[s].vx,g[s].y+=g[s].vy,g[s].x<w.x0?g[s].x+=e:g[s].x>=w.x1&&(g[s].x-=e),g[s].y<w.y0?g[s].y+=i:g[s].y>=w.y1&&(g[s].y-=i),p[s].style.left=g[s].x-2.5+"px",p[s].style.top=g[s].y-2.5+"px";requestAnimationFrame(X)}X()}}();