!function(){var t=window.location.pathname.replace(/\/$/,"")||"/";if(""===t||"/"===t||"/index.html"===t){var a=document.createElement("canvas");a.style.cssText="position:fixed;inset:0;z-index:99;pointer-events:none;",a.width=window.innerWidth,a.height=window.innerHeight,document.body.appendChild(a);var r=a.getContext("2d");window.addEventListener("resize",function(){a.width=window.innerWidth,a.height=window.innerHeight});var o=["#00bcd4","#e040fb","#4dd0e1","#ce93d8"],n=["#0097a7","#7b1fa2","#00838f","#6a1b9a"];function e(){var t="dark"===document.documentElement.getAttribute("data-theme")?o:n;return t[Math.floor(Math.random()*t.length)]}function h(){return 60*-Math.log(Math.random()+1e-9)}var i={reset:function(){this.x=Math.random()*a.width,this.y=Math.random()*a.height;var t=Math.random()*Math.PI*2;this.dx=Math.cos(t),this.dy=Math.sin(t),this.mfp=h(),this.traveled=0,this.color=e(),this.speed=1.2+.8*Math.random(),this.age=0,this.maxAge=500+300*Math.random()},step:function(){if(this.age++,this.age>this.maxAge)this.reset();else{var t=this.age/this.maxAge,o=.35*Math.min(8*t,1,8*(1-t)),n=this.x,e=this.y;if(this.x+=this.dx*this.speed,this.y+=this.dy*this.speed,this.traveled+=this.speed,r.beginPath(),r.moveTo(n,e),r.lineTo(this.x,this.y),r.strokeStyle=this.color,r.lineWidth=1.8,r.globalAlpha=o,r.stroke(),this.traveled>=this.mfp){r.beginPath(),r.arc(this.x,this.y,1.5,0,2*Math.PI),r.fillStyle=this.color,r.globalAlpha=1.5*o,r.fill();var i=Math.random()*Math.PI*2;this.dx=Math.cos(i),this.dy=Math.sin(i),this.mfp=h(),this.traveled=0}(this.x<-100||this.x>a.width+100||this.y<-100||this.y>a.height+100)&&this.reset(),r.globalAlpha=1}}};i.reset();for(var s=[i],d=1;d<4;d++){var m=Object.assign({},i);m.reset(),m.age=Math.floor(Math.random()*m.maxAge),s.push(m)}function v(){r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0,0,0,0.04)",r.fillRect(0,0,a.width,a.height),r.globalCompositeOperation="source-over";for(var t=0;t<s.length;t++)s[t].step();requestAnimationFrame(v)}v()}else{var M=["#00bcd4","#4dd0e1","#00acc1","#26c6da"],l=["#e040fb","#ce93d8","#ab47bc","#ba68c8"],f=M.concat(l),x=[],y=[],c=!1,p=document.createElement("button");function u(){return{x0:0,y0:0,x1:window.innerWidth,y1:window.innerHeight}}p.textContent="pause sim",p.style.cssText="position:fixed;bottom:1.2rem;right:1.2rem;z-index:200;background:none;border:1px solid currentColor;border-radius:3px;padding:3px 8px;font:11px/1.4 'DM Sans',sans-serif;cursor:pointer;opacity:0.35;transition:opacity .2s;color:inherit;pointer-events:auto;",p.addEventListener("mouseenter",function(){p.style.opacity="0.8"}),p.addEventListener("mouseleave",function(){p.style.opacity=c?"0.6":"0.35"}),p.addEventListener("click",function(){c=!c,p.textContent=c?"resume sim":"pause sim",p.style.opacity=c?"0.6":"0.35",c||oa()}),document.body.appendChild(p);var g=u();window.addEventListener("resize",function(){g=u()});var w=window.innerWidth,b=window.innerHeight,A=1+1*Math.random(),q=64+100*Math.random(),C=60+40*Math.random();function E(t,a,r,o,n,e,h){var i=document.createElement("div");i.className="pixel-float",i.style.background=e[Math.floor(Math.random()*e.length)],h&&(i.style.width="5px",i.style.height="5px"),document.body.appendChild(i),y.push(i),x.push({x:t,y:a,vx:r,vy:o,m:n})}var P=Math.random()<.5,k=1,I=1/0;if(P){var L=[{r:50+20*Math.random(),n:120+Math.floor(30*Math.random())},{r:85+25*Math.random(),n:180+Math.floor(40*Math.random())},{r:130+30*Math.random(),n:230+Math.floor(50*Math.random())}],W=[{r:35+15*Math.random(),n:90+Math.floor(25*Math.random())},{r:60+20*Math.random(),n:120+Math.floor(35*Math.random())}],z=Math.min(w,b)*(.15+.15*Math.random()),F=2*C,H=Math.sqrt(A*F*2*z),S=-(1.4+.6*Math.random()),T=2*z/(1+Math.cos(S)),O=Math.random()*Math.PI*2,j=Math.cos(O),D=Math.sin(O),N=Math.cos(S),R=Math.sin(S),$=A*F/H*R,B=H/T,G=T*N,J=T*R,K=G*j-J*D,Q=G*D+J*j,U=$*N-B*R,V=$*R+B*N,X=U*j-V*D,Y=U*D+V*j,Z=w*(.55+.2*Math.random()),_=b*(.35+.3*Math.random()),tt=Z-.5*K,at=_-.5*Q,rt=Z+.5*K,ot=_+.5*Q,nt=.5*-X,et=.5*-Y,ht=.5*X,it=.5*Y;E(tt,at,nt,et,C,M,!0),E(rt,ot,ht,it,C,l,!0);for(var st=0,dt=0;dt<L.length;dt++)st+=L[dt].n;for(dt=0;dt<W.length;dt++)st+=W[dt].n;var mt=C/st,vt=function(t,a,r,o,n,e){for(var h=0;h<n.length;h++)for(var i=n[h].r,s=n[h].n,d=Math.sqrt(A*C/i),m=0;m<s;m++){var v=2*Math.PI*m/s+.2*(Math.random()-.5);E(t+i*Math.cos(v),a+i*Math.sin(v),r-d*Math.sin(v),o+d*Math.cos(v),mt,e,!1)}};vt(tt,at,nt,et,L,M),vt(rt,ot,ht,it,W,l)}else{var Mt=600+Math.floor(300*Math.random()),lt=w*(.5+.3*Math.random()),ft=b*(.35+.3*Math.random()),xt=w*(.12+.12*Math.random()),yt=b*(.12+.12*Math.random()),ct=[],pt=0,ut=0,gt=0;for(d=0;d<Mt;d++){var wt=.8+.4*Math.random(),bt=lt+2*(Math.random()-.5)*xt,At=ft+2*(Math.random()-.5)*yt;pt+=wt,ut+=bt*wt,gt+=At*wt,ct.push({x:bt,y:At,m:wt})}ut/=pt,gt/=pt;var qt=100/pt;for(d=0;d<Mt;d++)ct[d].m*=qt;I=100*(k=(pt=100)/Mt);var Ct=.5+.5*Math.random();for(d=0;d<Mt;d++){var Et=ct[d].x-ut,Pt=ct[d].y-gt,kt=Math.sqrt(Et*Et+Pt*Pt)+1,It=Math.sqrt(A*pt/kt)*Ct;E(ct[d].x,ct[d].y,-It*Pt/kt+.3*(Math.random()-.5),It*Et/kt+.3*(Math.random()-.5),ct[d].m,f,!1)}}var Lt=x.length,Wt=new Float32Array(Lt),zt=new Float32Array(Lt),Ft=new Array(Lt);for(d=0;d<Lt;d++)Ft[d]={idx:d,r:0};var Ht=60,St=0,Tt=420+Math.floor(180*Math.random()),Ot=60+Math.floor(60*Math.random()),jt=.99+.007*Math.random(),Dt=0,Nt=Math.min(w,b)*(.08+.08*Math.random()),Rt=2+1*Math.random(),$t=.5*w,Bt=.5*b,Gt=!1,Jt=3+7*Math.random(),Kt=4+2*Math.random(),Qt=0,Ut=360+Math.floor(120*Math.random()),Vt=0,Xt=3,Yt=0,Zt=300+Math.floor(180*Math.random()),_t=.97+.015*Math.random(),ta=0,aa=0,ra=.45;function oa(){var t=x.length;Wt.fill(0),zt.fill(0);for(var a=g.x1-g.x0,r=g.y1-g.y0,o=.5*a,n=.5*r,e=0;e<t;e++)for(var h=x[e],i=e+1;i<t;i++){var s=x[i],d=s.x-h.x,m=s.y-h.y;d>o?d-=a:d<-o&&(d+=a),m>n?m-=r:m<-n&&(m+=r);var v=d*d+m*m+q,M=1/(v*Math.sqrt(v));Wt[e]+=A*s.m*M*d,zt[e]+=A*s.m*M*m,Wt[i]-=A*h.m*M*d,zt[i]-=A*h.m*M*m}var l=0,f=0,p=0;for(e=0;e<t;e++)l+=x[e].m,f+=x[e].x*x[e].m,p+=x[e].y*x[e].m;f/=l,p/=l;var u=.1*Math.min(a,r);if(f<g.x0+u||f>g.x1-u||p<g.y0+u||p>g.y1-u){var w=.5*a,b=.5*r,C=w-f,E=b-p;for(e=0;e<t;e++)x[e].x+=C,x[e].y+=E;f=w,p=b,ra=0}if(Qt>0)Qt--;else if(++St>=Ht){St=0;for(e=0;e<t;e++){var L=x[e].x-f,W=x[e].y-p;Ft[e].idx=e,Ft[e].r=Math.sqrt(L*L+W*W)}for(var z=t;z<Ft.length;z++)Ft[z].r=1e9;if(Ft.sort(function(t,a){return t.r-a.r}),Ft[Math.floor(.9*t)].r<Nt){for(var F=Ft[Math.floor(.5*t)].r,H=Math.min(Nt/(F+Math.sqrt(q)),6),S=3*Jt,T=S*S,O=0,j=f,D=p,N=0;N<t;N++){for(var R=0,$=0,B=0,G=0,J=0;J<t;J++){(U=x[J].x-x[N].x)*U+(V=x[J].y-x[N].y)*V<T&&(R++,$+=x[J].x*x[J].m,B+=x[J].y*x[J].m,G+=x[J].m)}R>O&&(O=R,j=$/G,D=B/G)}$t=j,Bt=D;for(var K=new Array(t),Q=0;Q<t;Q++){var U=x[Q].x-j,V=x[Q].y-D;K[Q]=Math.sqrt(U*U+V*V)}var X=K.slice().sort(function(t,a){return t-a})[Math.floor(.9*t)],Y=Math.min(X,S),Z=Y*Y,_=aa>0?P?3+7*Math.random():.3+2.7*Math.random():1,tt=0,at=0,rt=0;for(Q=0;Q<t;Q++){var ot=K[Q];if(!(ot*ot>Z)){L=x[Q].x-j,W=x[Q].y-D;var nt,et,ht=Math.exp(-ot/Jt),it=Math.sqrt(x[Q].vx*x[Q].vx+x[Q].vy*x[Q].vy),st=Math.max(0,1-it/Kt);if(ot<1){var dt=Math.random()*Math.PI*2;nt=Math.cos(dt),et=Math.sin(dt)}else nt=L/ot,et=W/ot;var mt=x[Q].vx,vt=x[Q].vy,Mt=Rt*k*_*H*ht*st/x[Q].m;x[Q].vx+=Mt*nt,x[Q].vy+=Mt*et;var lt=Math.sqrt(x[Q].vx*x[Q].vx+x[Q].vy*x[Q].vy);lt>Kt&&(x[Q].vx=x[Q].vx/lt*Kt,x[Q].vy=x[Q].vy/lt*Kt),tt+=x[Q].m*(x[Q].vx-mt),at+=x[Q].m*(x[Q].vy-vt),rt+=x[Q].m}}if(rt>0){var ft=tt/rt,xt=at/rt;for(Q=0;Q<t;Q++)K[Q]*K[Q]>Z||(x[Q].vx-=ft,x[Q].vy-=xt)}if(Qt=Ut,aa>0&&aa--,++Vt>=Xt&&0===Yt){Yt=Zt,Vt=0,ta=0;for(var yt=0;yt<t;yt++)ta+=.5*x[yt].m*(x[yt].vx*x[yt].vx+x[yt].vy*x[yt].vy)}}}var ct=1;if(Yt>0){ct=_t,Yt--;var pt=0;for(yt=0;yt<t;yt++)pt+=.5*x[yt].m*(x[yt].vx*x[yt].vx+x[yt].vy*x[yt].vy);pt<.1*ta&&(Yt=0,Qt=0,St=Ht,aa=3,P||(Gt=!0))}else++Dt>Tt&&(ct=jt,Dt>Tt+Ot&&(Dt=0));for(e=0;e<t;e++)x[e].vx=(x[e].vx+Wt[e])*ct,x[e].vy=(x[e].vy+zt[e])*ct;var ut=0,gt=0;for(e=0;e<t;e++)ut+=x[e].m*x[e].vx,gt+=x[e].m*x[e].vy;ut/=l,gt/=l,ra<.45&&(ra=Math.min(.45,ra+.01125));for(e=0;e<t;e++)x[e].vx-=ut,x[e].vy-=gt,x[e].x+=x[e].vx,x[e].y+=x[e].vy,x[e].x<g.x0?x[e].x+=a:x[e].x>=g.x1&&(x[e].x-=a),x[e].y<g.y0?x[e].y+=r:x[e].y>=g.y1&&(x[e].y-=r),y[e].style.left=x[e].x-2.5+"px",y[e].style.top=x[e].y-2.5+"px",y[e].style.opacity=ra;if(!P&&Gt){Gt=!1;for(var wt=x.length,bt=0,At=1,qt=1/0,Ct=1/0,Et=0;Et<wt;Et++){var Pt=x[Et].x-$t,kt=x[Et].y-Bt,It=Pt*Pt+kt*kt;It<qt?(Ct=qt,At=bt,qt=It,bt=Et):It<Ct&&(Ct=It,At=Et)}if(bt!==At){if(bt>At){var Lt=bt;bt=At,At=Lt}var na=x[bt],ea=x[At],ha=na.m+ea.m;na.x=(na.x*na.m+ea.x*ea.m)/ha,na.y=(na.y*na.m+ea.y*ea.m)/ha,na.vx=(na.vx*na.m+ea.vx*ea.m)/ha,na.vy=(na.vy*na.m+ea.vy*ea.m)/ha,na.m=Math.min(ha,I),document.body.removeChild(y[At]),x.splice(At,1),y.splice(At,1),Rt*=1.1}}c||requestAnimationFrame(oa)}oa()}}();