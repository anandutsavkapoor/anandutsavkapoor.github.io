!function(){var t=window.location.pathname.replace(/\/$/,"")||"/";if(""===t||"/"===t||"/index.html"===t){var e=document.createElement("canvas");e.style.cssText="position:fixed;inset:0;z-index:99;pointer-events:none;",e.width=window.innerWidth,e.height=window.innerHeight,document.body.appendChild(e);var i=e.getContext("2d");window.addEventListener("resize",function(){e.width=window.innerWidth,e.height=window.innerHeight});var n=["#00bcd4","#e040fb","#4dd0e1","#ce93d8"];function a(){return 60*-Math.log(Math.random()+1e-9)}var h={reset:function(){this.x=Math.random()*e.width,this.y=Math.random()*e.height;var t=Math.random()*Math.PI*2;this.dx=Math.cos(t),this.dy=Math.sin(t),this.mfp=a(),this.traveled=0,this.color=n[Math.floor(Math.random()*n.length)],this.speed=1.2+.8*Math.random(),this.age=0,this.maxAge=500+300*Math.random()},step:function(){if(this.age++,this.age>this.maxAge)this.reset();else{var t=this.age/this.maxAge,n=.35*Math.min(8*t,1,8*(1-t)),h=this.x,o=this.y;if(this.x+=this.dx*this.speed,this.y+=this.dy*this.speed,this.traveled+=this.speed,i.beginPath(),i.moveTo(h,o),i.lineTo(this.x,this.y),i.strokeStyle=this.color,i.lineWidth=1.8,i.globalAlpha=n,i.stroke(),this.traveled>=this.mfp){i.beginPath(),i.arc(this.x,this.y,1.5,0,2*Math.PI),i.fillStyle=this.color,i.globalAlpha=1.5*n,i.fill();var s=Math.random()*Math.PI*2;this.dx=Math.cos(s),this.dy=Math.sin(s),this.mfp=a(),this.traveled=0}(this.x<-100||this.x>e.width+100||this.y<-100||this.y>e.height+100)&&this.reset(),i.globalAlpha=1}}},o=document.createElement("div");o.style.cssText="position:fixed;bottom:1rem;left:1rem;z-index:102;pointer-events:none;font-family:monospace;font-size:0.65rem;opacity:0.35;letter-spacing:0.05em;",o.textContent="Monte Carlo photon random walk",document.body.appendChild(o),h.reset();for(var s=[h],r=1;r<4;r++){var d=Object.assign({},h);d.reset(),d.age=Math.floor(Math.random()*d.maxAge),s.push(d)}function l(){i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0,0,0,0.04)",i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="source-over";for(var t=0;t<s.length;t++)s[t].step();requestAnimationFrame(l)}l()}else{n=["#00bcd4","#e040fb","#00bcd4","#e040fb","#4dd0e1","#ce93d8"];var m=12,c=4,f=2500,p=.999,v=5e-5,x=[],g=[];for(r=0;r<m;r++){var y=document.createElement("div");y.className="pixel-float",y.style.background=n[Math.floor(Math.random()*n.length)],document.body.appendChild(y),g.push(y),x.push({x:window.innerWidth*(.55+.43*Math.random()),y:window.innerHeight*(.52+.46*Math.random()),vx:1.6*(Math.random()-.5),vy:1.6*(Math.random()-.5),m:.8+.4*Math.random()})}function M(){for(var t=x.length,e=.77*window.innerWidth,i=.75*window.innerHeight,n=new Array(t).fill(0),a=new Array(t).fill(0),h=0;h<t;h++){for(var o=x[h],s=h+1;s<t;s++){var r=x[s],d=r.x-o.x,l=r.y-o.y,m=d*d+l*l+f,y=1/Math.sqrt(m),w=y*y*y;n[h]+=c*r.m*w*d,a[h]+=c*r.m*w*l,n[s]-=c*o.m*w*d,a[s]-=c*o.m*w*l}n[h]+=v*(e-o.x),a[h]+=v*(i-o.y)}for(h=0;h<t;h++)x[h].vx=(x[h].vx+n[h])*p,x[h].vy=(x[h].vy+a[h])*p,x[h].x+=x[h].vx,x[h].y+=x[h].vy,g[h].style.left=x[h].x-4+"px",g[h].style.top=x[h].y-4+"px";requestAnimationFrame(M)}M()}}();