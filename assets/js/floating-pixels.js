!function(){var t=window.location.pathname.replace(/\/$/,"")||"/";if(""===t||"/"===t||"/index.html"===t){var a=document.createElement("canvas");a.style.cssText="position:fixed;inset:0;z-index:99;pointer-events:none;",a.width=window.innerWidth,a.height=window.innerHeight,document.body.appendChild(a);var r=a.getContext("2d");window.addEventListener("resize",function(){a.width=window.innerWidth,a.height=window.innerHeight});var o=["#00bcd4","#e040fb","#4dd0e1","#ce93d8"],n=["#0097a7","#7b1fa2","#00838f","#6a1b9a"];function e(){var t="dark"===document.documentElement.getAttribute("data-theme")?o:n;return t[Math.floor(Math.random()*t.length)]}function h(){return 60*-Math.log(Math.random()+1e-9)}var i={reset:function(){this.x=Math.random()*a.width,this.y=Math.random()*a.height;var t=Math.random()*Math.PI*2;this.dx=Math.cos(t),this.dy=Math.sin(t),this.mfp=h(),this.traveled=0,this.color=e(),this.speed=1.2+.8*Math.random(),this.age=0,this.maxAge=500+300*Math.random()},step:function(){if(this.age++,this.age>this.maxAge)this.reset();else{var t=this.age/this.maxAge,o=.35*Math.min(8*t,1,8*(1-t)),n=this.x,e=this.y;if(this.x+=this.dx*this.speed,this.y+=this.dy*this.speed,this.traveled+=this.speed,r.beginPath(),r.moveTo(n,e),r.lineTo(this.x,this.y),r.strokeStyle=this.color,r.lineWidth=1.8,r.globalAlpha=o,r.stroke(),this.traveled>=this.mfp){r.beginPath(),r.arc(this.x,this.y,1.5,0,2*Math.PI),r.fillStyle=this.color,r.globalAlpha=1.5*o,r.fill();var i=Math.random()*Math.PI*2;this.dx=Math.cos(i),this.dy=Math.sin(i),this.mfp=h(),this.traveled=0}(this.x<-100||this.x>a.width+100||this.y<-100||this.y>a.height+100)&&this.reset(),r.globalAlpha=1}}};i.reset();for(var s=[i],d=1;d<4;d++){var m=Object.assign({},i);m.reset(),m.age=Math.floor(Math.random()*m.maxAge),s.push(m)}function v(){r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0,0,0,0.04)",r.fillRect(0,0,a.width,a.height),r.globalCompositeOperation="source-over";for(var t=0;t<s.length;t++)s[t].step();requestAnimationFrame(v)}v()}else{var M=["#00bcd4","#4dd0e1","#00acc1","#26c6da"],l=["#e040fb","#ce93d8","#ab47bc","#ba68c8"],f=M.concat(l),x=[],y=[],c=!1,p=document.createElement("button");function u(){return{x0:0,y0:0,x1:window.innerWidth,y1:window.innerHeight}}p.textContent="Pause Simulation",p.style.cssText="position:fixed;bottom:1.2rem;right:1.2rem;z-index:200;background:none;border:1px solid currentColor;border-radius:3px;padding:3px 8px;font:11px/1.4 'DM Sans',sans-serif;cursor:pointer;opacity:0.35;transition:opacity .2s;color:inherit;pointer-events:auto;",p.addEventListener("mouseenter",function(){p.style.opacity="0.8"}),p.addEventListener("mouseleave",function(){p.style.opacity=c?"0.6":"0.35"}),p.addEventListener("click",function(){c=!c,p.textContent=c?"Resume Simulation":"Pause Simulation",p.style.opacity=c?"0.6":"0.35",c||ya()}),document.body.appendChild(p);var g=u();window.addEventListener("resize",function(){g=u()});var w=window.innerWidth,b=window.innerHeight,A=document.createElement("div");A.style.cssText="position:fixed;left:0;top:0;width:0;height:0;transform-origin:0 0;will-change:transform;",document.body.appendChild(A);var q=1+1*Math.random(),P=144+236*Math.random(),C=60+40*Math.random();function E(t,a,r,o,n,e,h){var i=document.createElement("div");i.className="pixel-float",i.style.background=e[Math.floor(Math.random()*e.length)];var s=1.5;h&&(i.style.width="7px",i.style.height="7px",i.style.borderRadius="0",i.style.clipPath="polygon(50% 0%, 0% 100%, 100% 100%)",s=3.5),A.appendChild(i),y.push(i),x.push({x:t,y:a,vx:r,vy:o,m:n,hs:s})}var S=Math.random()<.5,k=1,F=1/0,I=1/0;if(S){var T=[{r:50+20*Math.random(),n:120+Math.floor(30*Math.random())},{r:85+25*Math.random(),n:180+Math.floor(40*Math.random())},{r:130+30*Math.random(),n:230+Math.floor(50*Math.random())}],L=[{r:35+15*Math.random(),n:90+Math.floor(25*Math.random())},{r:60+20*Math.random(),n:120+Math.floor(35*Math.random())}],W=Math.min(w,b)*(.15+.15*Math.random()),z=2*C,H=Math.sqrt(q*z*2*W),R=-(1.4+.6*Math.random()),O=2*W/(1+Math.cos(R)),j=Math.random()*Math.PI*2,D=Math.cos(j),N=Math.sin(j),$=Math.cos(R),B=Math.sin(R),G=q*z/H*B,J=H/O,K=O*$,Q=O*B,U=K*D-Q*N,V=K*N+Q*D,X=G*$-J*B,Y=G*B+J*$,Z=X*D-Y*N,_=X*N+Y*D,tt=w*(.55+.2*Math.random()),at=b*(.35+.3*Math.random()),rt=tt-.5*U,ot=at-.5*V,nt=tt+.5*U,et=at+.5*V,ht=.5*-Z,it=.5*-_,st=.5*Z,dt=.5*_;E(rt,ot,ht,it,C,M,!0),E(nt,et,st,dt,C,l,!0);for(var mt=0,vt=0;vt<T.length;vt++)mt+=T[vt].n;for(vt=0;vt<L.length;vt++)mt+=L[vt].n;var Mt=C/mt,lt=function(t,a,r,o,n,e){for(var h=0;h<n.length;h++)for(var i=n[h].r,s=n[h].n,d=Math.sqrt(q*C/i),m=0;m<s;m++){var v=2*Math.PI*m/s+.2*(Math.random()-.5);E(t+i*Math.cos(v),a+i*Math.sin(v),r-d*Math.sin(v),o+d*Math.cos(v),Mt,e,!1)}};lt(rt,ot,ht,it,T,M),lt(nt,et,st,dt,L,l)}else{var ft=800,xt=w*(.5+.3*Math.random()),yt=b*(.35+.3*Math.random()),ct=w*(.12+.12*Math.random()),pt=b*(.12+.12*Math.random()),ut=[],gt=0,wt=0,bt=0;for(d=0;d<ft;d++){var At=1,qt=xt+2*(Math.random()-.5)*ct,Pt=yt+2*(Math.random()-.5)*pt;gt+=At,wt+=qt*At,bt+=Pt*At,ut.push({x:qt,y:Pt,m:At})}wt/=gt,bt/=gt;var Ct=100/gt;for(d=0;d<ft;d++)ut[d].m*=Ct;F=200*(k=(gt=100)/ft),I=500*k;var Et=.5+.5*Math.random();for(d=0;d<ft;d++){var St=ut[d].x-wt,kt=ut[d].y-bt,Ft=Math.sqrt(St*St+kt*kt)+1,It=Math.sqrt(q*gt/Ft)*Et;E(ut[d].x,ut[d].y,-It*kt/Ft+.3*(Math.random()-.5),It*St/Ft+.3*(Math.random()-.5),ut[d].m,f,!1)}}var Tt=x.length,Lt=new Float32Array(Tt),Wt=new Float32Array(Tt),zt=new Array(Tt);for(d=0;d<Tt;d++)zt[d]={idx:d,r:0};var Ht=8,Rt=8,Ot=new Float32Array(Ht*Rt),jt=60,Dt=0,Nt=420+Math.floor(180*Math.random()),$t=60+Math.floor(60*Math.random()),Bt=.99+.007*Math.random(),Gt=0,Jt=Math.min(w,b)*(.08+.08*Math.random()),Kt=S?2+1*Math.random():.5+1*Math.random(),Qt=3+7*Math.random(),Ut=4+2*Math.random(),Vt=0,Xt=360+Math.floor(120*Math.random()),Yt=0,Zt=3,_t=0,ta=300+Math.floor(180*Math.random()),aa=.97+.015*Math.random(),ra=0,oa=0,na=.45,ea=1,ha=2,ia=-1,sa=-1,da=-1,ma=0,va=-1,Ma=-1,la=0,fa=S?.03:.01,xa=-1;function ya(){var t=x.length;Lt.fill(0),Wt.fill(0);for(var a=g.x1-g.x0,r=g.y1-g.y0,o=.5*a,n=.5*r,e=0;e<t;e++)for(var h=x[e],i=e+1;i<t;i++){var s=x[i],d=s.x-h.x,m=s.y-h.y;d>o?d-=a:d<-o&&(d+=a),m>n?m-=r:m<-n&&(m+=r);var v=d*d+m*m+P,M=1/(v*Math.sqrt(v));Lt[e]+=q*s.m*M*d,Wt[e]+=q*s.m*M*m,Lt[i]-=q*h.m*M*d,Wt[i]-=q*h.m*M*m}var l=0,f=0,p=0;for(e=0;e<t;e++)l+=x[e].m,f+=x[e].x*x[e].m,p+=x[e].y*x[e].m;f/=l,p/=l,Ot.fill(0);for(e=0;e<t;e++){var u=Math.min(Ht-1,Math.max(0,Math.floor((x[e].x-g.x0)/a*Ht))),w=Math.min(Rt-1,Math.max(0,Math.floor((x[e].y-g.y0)/r*Rt)));Ot[w*Ht+u]+=x[e].m}for(var b=0,A=1;A<Ht*Rt;A++)Ot[A]>Ot[b]&&(b=A);var C=b%Ht,E=Math.floor(b/Ht);if((0===C||C===Ht-1||0===E||E===Rt-1)&&Ot[b]>.5*l){var T=g.x0+(C+.5)/Ht*a,L=g.y0+(E+.5)/Rt*r,W=g.x0+.5*a-T,z=g.y0+.5*r-L;for(e=0;e<t;e++)x[e].x+=W,x[e].y+=z;f+=W,p+=z,na=0}if(Vt>0)Vt--;else if(++Dt>=jt){Dt=0;for(e=0;e<t;e++){var H=x[e].x-f,R=x[e].y-p;zt[e].idx=e,zt[e].r=Math.sqrt(H*H+R*R)}if(zt.sort(function(t,a){return t.r-a.r}),zt[Math.floor(.9*t)].r<Jt){for(var O=zt[Math.floor(.5*t)].r,j=Math.min(Jt/(O+Math.sqrt(P)),6),D=3*Qt,N=D*D,$=0,B=f,G=p,J=0;J<t;J++){for(var K=0,Q=0,U=0,V=0,X=0;X<t;X++){(bt=x[X].x-x[J].x)*bt+(At=x[X].y-x[J].y)*At<N&&(K++,Q+=x[X].x*x[X].m,U+=x[X].y*x[X].m,V+=x[X].m)}K>$&&($=K,B=Q/V,G=U/V)}if(!S){for(var Y=0,Z=1/0,_=0;_<t;_++){var tt=x[_].x-B,at=x[_].y-G,rt=tt*tt+at*at;rt<Z&&(Z=rt,Y=_)}for(var ot=x[Y],nt=0,et=0;et<t;et++)x[et].m>k&&(nt+=x[et].m);var ht=Math.min(ot.m,F-ot.m,Math.max(0,I-nt));if(ht>0){for(var it=[],st=0;st<t;st++)if(st!==Y){var dt=x[st].m;if(dt>.1*k&&dt<=k){var mt=x[st].x-ot.x,vt=x[st].y-ot.y;it.push({idx:st,d2:mt*mt+vt*vt})}}if(it.sort(function(t,a){return t.d2-a.d2}),it.length>16&&(it.length=16),it.length>0){for(var Mt=ht/it.length,lt=ot.m*ot.vx,ft=ot.m*ot.vy,xt=0,yt=0;yt<it.length;yt++){var ct=x[it[yt].idx],pt=Math.min(Mt,ct.m-.1*k);lt+=pt*ct.vx,ft+=pt*ct.vy,ct.m-=pt,xt+=pt}if(ot.m+=xt,ot.vx=lt/ot.m,ot.vy=ft/ot.m,ot.m>1.5*k){var ut=Math.min(14,Math.max(5,5*Math.pow(ot.m/k,1/3)));ot.hs=ut/2,y[Y].style.width=ut+"px",y[Y].style.height=ut+"px",y[Y].style.borderRadius="0",y[Y].style.clipPath="polygon(50% 0%, 0% 100%, 100% 100%)"}}}}for(var gt=new Array(t),wt=0;wt<t;wt++){var bt=x[wt].x-B,At=x[wt].y-G;gt[wt]=Math.sqrt(bt*bt+At*At)}var qt=gt.slice().sort(function(t,a){return t-a})[Math.floor(.9*t)],Pt=Math.min(qt,D),Ct=Pt*Pt,Et=oa>0?S?2+2*Math.random():.25+2.25*Math.random():1,St=0,kt=0,Ft=0;for(wt=0;wt<t;wt++){var It=gt[wt];if(!(It*It>Ct)){H=x[wt].x-B,R=x[wt].y-G;var Tt,ca,pa=Math.exp(-It/Qt),ua=Math.sqrt(x[wt].vx*x[wt].vx+x[wt].vy*x[wt].vy),ga=Math.max(0,1-ua/Ut);if(It<1){var wa=Math.random()*Math.PI*2;Tt=Math.cos(wa),ca=Math.sin(wa)}else Tt=H/It,ca=R/It;var ba=x[wt].vx,Aa=x[wt].vy,qa=Kt*k*Et*j*pa*ga/x[wt].m;x[wt].vx+=qa*Tt,x[wt].vy+=qa*ca;var Pa=Math.sqrt(x[wt].vx*x[wt].vx+x[wt].vy*x[wt].vy);Pa>Ut&&(x[wt].vx=x[wt].vx/Pa*Ut,x[wt].vy=x[wt].vy/Pa*Ut),St+=x[wt].m*(x[wt].vx-ba),kt+=x[wt].m*(x[wt].vy-Aa),Ft+=x[wt].m}}if(Ft>0){var Ca=St/Ft,Ea=kt/Ft;for(wt=0;wt<t;wt++)gt[wt]*gt[wt]>Ct||(x[wt].vx-=Ca,x[wt].vy-=Ea)}if(Vt=Xt,ma++,oa>0&&oa--,++Yt>=Zt&&0===_t){_t=ta,Yt=0,ra=0;for(var Sa=0;Sa<t;Sa++)ra+=.5*x[Sa].m*(x[Sa].vx*x[Sa].vx+x[Sa].vy*x[Sa].vy)}}}var ka=1;if(_t>0){ka=aa,_t--;var Fa=0;for(Sa=0;Sa<t;Sa++)Fa+=.5*x[Sa].m*(x[Sa].vx*x[Sa].vx+x[Sa].vy*x[Sa].vy);Fa<.2*ra&&(_t=0,Vt=0,Dt=jt,oa=3)}else++Gt>Nt&&(ka=Bt,Gt>Nt+$t&&(Gt=0));for(e=0;e<t;e++)x[e].vx=(x[e].vx+Lt[e])*ka,x[e].vy=(x[e].vy+Wt[e])*ka;var Ia=0,Ta=0;for(e=0;e<t;e++)Ia+=x[e].m*x[e].vx,Ta+=x[e].m*x[e].vy;Ia/=l,Ta/=l,na<.45&&(na=Math.min(.45,na+.01125));var La=va<0?0:Math.min(1,(ea-1)/Math.max(.001,ha-1));for(e=0;e<t;e++){x[e].vx-=Ia,x[e].vy-=Ta,x[e].x+=x[e].vx,x[e].y+=x[e].vy,x[e].x<g.x0?x[e].x+=a:x[e].x>=g.x1&&(x[e].x-=a),x[e].y<g.y0?x[e].y+=r:x[e].y>=g.y1&&(x[e].y-=r);var Wa=.5*a+(x[e].x-va)*ea,za=.5*r+(x[e].y-Ma)*ea;y[e].style.left=x[e].x+La*(Wa-x[e].x)-x[e].hs+"px",y[e].style.top=x[e].y+La*(za-x[e].y)-x[e].hs+"px",y[e].style.opacity=na}if(ma>=3){va<0?(va=f,Ma=p):(va+=(f-va)*fa,Ma+=(p-Ma)*fa);for(var Ha=0,Ra=0;Ra<t;Ra++){var Oa=x[Ra].x-f,ja=x[Ra].y-p;Ha+=(Oa*Oa+ja*ja)*x[Ra].m}var Da=Math.sqrt(Ha/(l+1e-9));ia<0&&(ia=Da),ia+=.003*(Da-ia);var Na=Math.max(1.2,Math.min(3.5,.35*Math.min(a,r)/(ia+1e-9)));xa<0&&(xa=Na),ha=xa+=.003*(Na-xa);for(var $a=0,Ba=0;Ba<t;Ba++)$a+=x[Ba].m*(x[Ba].vx*x[Ba].vx+x[Ba].vy*x[Ba].vy);sa<0&&(sa=$a,da=$a);var Ga,Ja=(sa+=.003*($a-sa))/((da+=.001*($a-da))+1e-9);la=Ja>1.15?Math.min(la+1,300):Math.max(0,la-1),ea+=((Ga=la>=120?1:Ja>.85?ha:ea)-ea)*(Ga>ea?.003:.008)}if(!c){var Ka=Math.round(50*La);Ka>0?setTimeout(function(){requestAnimationFrame(ya)},Ka):requestAnimationFrame(ya)}}ya()}}();